var app={},ui={};$(document).ready(function(){app.init()}),app.init=function(){$("#image-bank").imagesLoaded(function(){app.startLoadSequence()}),$(document).keyup(function(e){27==e.keyCode&&app.endLoadSequence()}),$(".window").draggable({handle:".title-module",start:function(){ui.focusWindow($(this))}}),0==$("#mobile-flag").css("opacity")&&$(".window").draggable({containment:"document"}),$(document).on("click",".title-bar.close",function(){$(this).parent().parent().hide()}),$(document).on("click",".window",function(e){ui.focusWindow($(this))}),$(document).on("click",".desktop-icon",function(){app.openProgram($(this).attr("data-program")),"about"==$(this).attr("data-program")&&$(".window.about").css("max-width",1.25*window.innerHeight)}),$(window).resize(function(){$(".window.about").css({width:"80%",height:"auto","max-width":1.25*window.innerHeight})}),$("#iframe").on("load",function(){$("#iframe").attr("loaded",!0)})},app.loadSequenceTimer=null,app.startLoadSequence=function(){Cookies.get("booted")?app.endLoadSequence():(1==$("#mobile-flag").css("opacity")?(console.log("MOBILE DEVICE DETECTED. LOADING MOBILE MODE."),$(".load-image").attr("src","assets/img/loading.gif"),app.loadSequenceTimer=setTimeout(app.endLoadSequence,1e4)):($(".load-image").attr("src","assets/img/loading.gif"),app.loadSequenceTimer=setTimeout(app.endLoadSequence,1e4)),ga("send","event","Bootup","booted"))},app.endLoadSequence=function(){clearTimeout(app.loadSequenceTimer),$(".load-sequence").remove(),app.loadDesktop(),Cookies.set("booted","true",{expires:1})},app.loadDesktop=function(){$(".load-sequence").remove(),$(".desktop").show(),app.loadDesktopIcons(),setTimeout(function(){app.openProgram("gif")},1700),setTimeout(function(){app.openProgram("about")},2200)},app.loadDesktopIcons=function(){var e=0,o=$(".desktop-icon").get().reverse(),n=function(){$(o).eq(e++).delay(150).show(0,n)};n()},app.openProgram=function(e){$(".window."+e).show().css("zIndex","80"),ui.focusWindow($(".window."+e))},ui.focusWindow=function(e){$(".window").css("zIndex","60"),$(e).css("zIndex","70")},$(document).bind("contextmenu",function(e){return!1});